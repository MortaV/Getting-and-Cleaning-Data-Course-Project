# Code Book

## Raw Data
 Raw data for this project can be found [here](https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip). As it is described by original data owners, data set contains:
 >The experiments have been carried out with a group of 30 volunteers within an age bracket of 19-48 years. Each person performed six activities (WALKING, WALKING_UPSTAIRS, WALKING_DOWNSTAIRS, SITTING, STANDING, LAYING) wearing a smartphone (Samsung Galaxy S II) on the waist. Using its embedded accelerometer and gyroscope, we captured 3-axial linear acceleration and 3-axial angular velocity at a constant rate of 50Hz. The experiments have been video-recorded to label the data manually. The obtained dataset has been randomly partitioned into two sets, where 70% of the volunteers was selected for generating the training data and 30% the test data.
The sensor signals (accelerometer and gyroscope) were pre-processed by applying noise filters and then sampled in fixed-width sliding windows of 2.56 sec and 50% overlap (128 readings/window). The sensor acceleration signal, which has gravitational and body motion components, was separated using a Butterworth low-pass filter into body acceleration and gravity. The gravitational force is assumed to have only low frequency components, therefore a filter with 0.3 Hz cutoff frequency was used. From each window, a vector of features was obtained by calculating variables from the time and frequency domain.

More information about it can be found in the experiment's official page  [here](http://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones).

## Transformations

As the original data set did not met the conditions of a tidy data set, there were several transformations applied to it. The R code which takes raw data set and transforms it to tidy one is provided in this repository and is called *run_analysis.R*. It includes:

### Transformations of original data set

 1. Download the zip file with the raw data set and all additional files to a folder called *data* (if such folder doesn't exist in the working directory, it is created).
 2. Unzip downloaded folder.
 3. Train and Test files are joined with activity and subject information, column names from *features.txt* are added.
 4. Train and Test sets from step 3 are bind together.
 5. Only measures containing *mean()* or *std()* are left.
 6. Activity names are added as *activity* from *activity_labels.txt*.
 7. Activity IDs are removed as they are not informative.
 8. Column names are changed:
    + column names representing measures are gathered to one column called *dimension*;
    + *dimension* is separated into 3 different columns *signal*, *value* and *direction* by "-" as a separator;
    + *signal* is spread again into *domaintype* (first character of *signal*) and *signal* (everything except the first character of *signal*);
    + *domaintype* value is changed to "Time" if *domaintype* is "t" and "Frequency" otherwise;
    + *signal* is given several changes:
      - *Acc* changed to *Accelerometer*;
      - *Gyro* changed to *Gyroscope*;
      - *Mag* changed to *Magnitude*;
      - *BodyBody* changed to *Body* (probably it was just a typo in the original data set).
    + *value* changed to "Mean" if it was "mean()" before or to "StDev" otherwise;
    + *direction* changed to "withoutaxis" if value was NA, or to *direction*+"axis" otherwise.
9. *domaintype*, *signal*, *value* and *direction* were united back to a column named *measuretospread* (without any separator);
10. Dummy variable (rank of row number in a group of *activity*, *subject* and *measuretospread*) was created to spread *measuretospread* back to column names. After this transformation, dummy variable was deleted.
11. Data set was ungrouped.

### Transformations of individual second data set

1. Tidy version of original data set is grouped by *activity* and *subject*.
2. Arithmetic average of each variable is calculated.
3. Names of arithmetic average columns are changed to "MeanOf"+original column name.

## Variables in the data set which is generated by the R script

The R script will create a tidy data set with the following columns:

Column Name | Description
------------|------------
activity | Activity named
subject | Subject ID
MeanOfFrequencyBodyAccelerometerJerkMagnitudeMeanwithoutaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') without axis indication. Variables were calculated from the frequency domain. Before any calculations, magnitude of these three-dimensional signals were calculated using the Euclidean norm. Original transformation was mean.
MeanOfFrequencyBodyAccelerometerJerkMagnitudeStDevwithoutaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') without axis indication. Variables were calculated from the frequency domain. Before any calculations, magnitude of these three-dimensional signals were calculated using the Euclidean norm. Original transformation was standard deviation.
MeanOfFrequencyBodyAccelerometerJerkMeanXaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') for Xaxis. Variables were calculated from the frequency domain. Original transformation was mean.
MeanOfFrequencyBodyAccelerometerJerkMeanYaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') for Yaxis. Variables were calculated from the frequency domain. Original transformation was mean.
MeanOfFrequencyBodyAccelerometerJerkMeanZaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') for Zaxis. Variables were calculated from the frequency domain. Original transformation was mean.
MeanOfFrequencyBodyAccelerometerJerkStDevXaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') for Xaxis. Variables were calculated from the frequency domain. Original transformation was standard deviation.
MeanOfFrequencyBodyAccelerometerJerkStDevYaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') for Yaxis. Variables were calculated from the frequency domain. Original transformation was standard deviation.
MeanOfFrequencyBodyAccelerometerJerkStDevZaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') for Zaxis. Variables were calculated from the frequency domain. Original transformation was standard deviation.
MeanOfFrequencyBodyAccelerometerMagnitudeMeanwithoutaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') without axis indication. Variables were calculated from the frequency domain. Before any calculations, magnitude of these three-dimensional signals were calculated using the Euclidean norm. Original transformation was mean.
MeanOfFrequencyBodyAccelerometerMagnitudeStDevwithoutaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') without axis indication. Variables were calculated from the frequency domain. Before any calculations, magnitude of these three-dimensional signals were calculated using the Euclidean norm. Original transformation was standard deviation.
MeanOfFrequencyBodyAccelerometerMeanXaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Xaxis. Variables were calculated from the frequency domain. Original transformation was mean.
MeanOfFrequencyBodyAccelerometerMeanYaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Yaxis. Variables were calculated from the frequency domain. Original transformation was mean.
MeanOfFrequencyBodyAccelerometerMeanZaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Zaxis. Variables were calculated from the frequency domain. Original transformation was mean.
MeanOfFrequencyBodyAccelerometerStDevXaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Xaxis. Variables were calculated from the frequency domain. Original transformation was standard deviation.
MeanOfFrequencyBodyAccelerometerStDevYaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Yaxis. Variables were calculated from the frequency domain. Original transformation was standard deviation.
MeanOfFrequencyBodyAccelerometerStDevZaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Zaxis. Variables were calculated from the frequency domain. Original transformation was standard deviation.
MeanOfFrequencyBodyGyroscopeJerkMagnitudeMeanwithoutaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') without axis indication. Variables were calculated from the frequency domain. Before any calculations, magnitude of these three-dimensional signals were calculated using the Euclidean norm. Original transformation was mean.
MeanOfFrequencyBodyGyroscopeJerkMagnitudeStDevwithoutaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') without axis indication. Variables were calculated from the frequency domain. Before any calculations, magnitude of these three-dimensional signals were calculated using the Euclidean norm. Original transformation was standard deviation.
MeanOfFrequencyBodyGyroscopeMagnitudeMeanwithoutaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') without axis indication. Variables were calculated from the frequency domain. Before any calculations, magnitude of these three-dimensional signals were calculated using the Euclidean norm. Original transformation was mean.
MeanOfFrequencyBodyGyroscopeMagnitudeStDevwithoutaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') without axis indication. Variables were calculated from the frequency domain. Before any calculations, magnitude of these three-dimensional signals were calculated using the Euclidean norm. Original transformation was standard deviation.
MeanOfFrequencyBodyGyroscopeMeanXaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Xaxis. Variables were calculated from the frequency domain. Original transformation was mean.
MeanOfFrequencyBodyGyroscopeMeanYaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Yaxis. Variables were calculated from the frequency domain. Original transformation was mean.
MeanOfFrequencyBodyGyroscopeMeanZaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Zaxis. Variables were calculated from the frequency domain. Original transformation was mean.
MeanOfFrequencyBodyGyroscopeStDevXaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Xaxis. Variables were calculated from the frequency domain. Original transformation was standard deviation.
MeanOfFrequencyBodyGyroscopeStDevYaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Yaxis. Variables were calculated from the frequency domain. Original transformation was standard deviation.
MeanOfFrequencyBodyGyroscopeStDevZaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Zaxis. Variables were calculated from the frequency domain. Original transformation was standard deviation.
MeanOfTimeBodyAccelerometerJerkMagnitudeMeanwithoutaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') without axis indication. Variables were calculated from the time domain. Before any calculations, magnitude of these three-dimensional signals were calculated using the Euclidean norm. Original transformation was mean.
MeanOfTimeBodyAccelerometerJerkMagnitudeStDevwithoutaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') without axis indication. Variables were calculated from the time domain. Before any calculations, magnitude of these three-dimensional signals were calculated using the Euclidean norm. Original transformation was standard deviation.
MeanOfTimeBodyAccelerometerJerkMeanXaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') for Xaxis. Variables were calculated from the time domain. Original transformation was mean.
MeanOfTimeBodyAccelerometerJerkMeanYaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') for Yaxis. Variables were calculated from the time domain. Original transformation was mean.
MeanOfTimeBodyAccelerometerJerkMeanZaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') for Zaxis. Variables were calculated from the time domain. Original transformation was mean.
MeanOfTimeBodyAccelerometerJerkStDevXaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') for Xaxis. Variables were calculated from the time domain. Original transformation was standard deviation.
MeanOfTimeBodyAccelerometerJerkStDevYaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') for Yaxis. Variables were calculated from the time domain. Original transformation was standard deviation.
MeanOfTimeBodyAccelerometerJerkStDevZaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') for Zaxis. Variables were calculated from the time domain. Original transformation was standard deviation.
MeanOfTimeBodyAccelerometerMagnitudeMeanwithoutaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') without axis indication. Variables were calculated from the time domain. Before any calculations, magnitude of these three-dimensional signals were calculated using the Euclidean norm. Original transformation was mean.
MeanOfTimeBodyAccelerometerMagnitudeStDevwithoutaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') without axis indication. Variables were calculated from the time domain. Before any calculations, magnitude of these three-dimensional signals were calculated using the Euclidean norm. Original transformation was standard deviation.
MeanOfTimeBodyAccelerometerMeanXaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Xaxis. Variables were calculated from the time domain. Original transformation was mean.
MeanOfTimeBodyAccelerometerMeanYaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Yaxis. Variables were calculated from the time domain. Original transformation was mean.
MeanOfTimeBodyAccelerometerMeanZaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Zaxis. Variables were calculated from the time domain. Original transformation was mean.
MeanOfTimeBodyAccelerometerStDevXaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Xaxis. Variables were calculated from the time domain. Original transformation was standard deviation.
MeanOfTimeBodyAccelerometerStDevYaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Yaxis. Variables were calculated from the time domain. Original transformation was standard deviation.
MeanOfTimeBodyAccelerometerStDevZaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Zaxis. Variables were calculated from the time domain. Original transformation was standard deviation.
MeanOfTimeBodyGyroscopeJerkMagnitudeMeanwithoutaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') without axis indication. Variables were calculated from the time domain. Before any calculations, magnitude of these three-dimensional signals were calculated using the Euclidean norm. Original transformation was mean.
MeanOfTimeBodyGyroscopeJerkMagnitudeStDevwithoutaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') without axis indication. Variables were calculated from the time domain. Before any calculations, magnitude of these three-dimensional signals were calculated using the Euclidean norm. Original transformation was standard deviation.
MeanOfTimeBodyGyroscopeJerkMeanXaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') for Xaxis. Variables were calculated from the time domain. Original transformation was mean.
MeanOfTimeBodyGyroscopeJerkMeanYaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') for Yaxis. Variables were calculated from the time domain. Original transformation was mean.
MeanOfTimeBodyGyroscopeJerkMeanZaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') for Zaxis. Variables were calculated from the time domain. Original transformation was mean.
MeanOfTimeBodyGyroscopeJerkStDevXaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') for Xaxis. Variables were calculated from the time domain. Original transformation was standard deviation.
MeanOfTimeBodyGyroscopeJerkStDevYaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') for Yaxis. Variables were calculated from the time domain. Original transformation was standard deviation.
MeanOfTimeBodyGyroscopeJerkStDevZaxis | Arithmetic average of the gyroscope body motion Jerk signals (in gravity units 'g') for Zaxis. Variables were calculated from the time domain. Original transformation was standard deviation.
MeanOfTimeBodyGyroscopeMagnitudeMeanwithoutaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') without axis indication. Variables were calculated from the time domain. Before any calculations, magnitude of these three-dimensional signals were calculated using the Euclidean norm. Original transformation was mean.
MeanOfTimeBodyGyroscopeMagnitudeStDevwithoutaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') without axis indication. Variables were calculated from the time domain. Before any calculations, magnitude of these three-dimensional signals were calculated using the Euclidean norm. Original transformation was standard deviation.
MeanOfTimeBodyGyroscopeMeanXaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Xaxis. Variables were calculated from the time domain. Original transformation was mean.
MeanOfTimeBodyGyroscopeMeanYaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Yaxis. Variables were calculated from the time domain. Original transformation was mean.
MeanOfTimeBodyGyroscopeMeanZaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Zaxis. Variables were calculated from the time domain. Original transformation was mean.
MeanOfTimeBodyGyroscopeStDevXaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Xaxis. Variables were calculated from the time domain. Original transformation was standard deviation.
MeanOfTimeBodyGyroscopeStDevYaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Yaxis. Variables were calculated from the time domain. Original transformation was standard deviation.
MeanOfTimeBodyGyroscopeStDevZaxis | Arithmetic average of the gyroscope body motion signals (in gravity units 'g') for Zaxis. Variables were calculated from the time domain. Original transformation was standard deviation.
MeanOfTimeGravityAccelerometerMagnitudeMeanwithoutaxis | Arithmetic average of the gyroscope gravitational signals (in gravity units 'g') without axis indication. Variables were calculated from the time domain. Before any calculations, magnitude of these three-dimensional signals were calculated using the Euclidean norm. Original transformation was mean.
MeanOfTimeGravityAccelerometerMagnitudeStDevwithoutaxis | Arithmetic average of the gyroscope gravitational signals (in gravity units 'g') without axis indication. Variables were calculated from the time domain. Before any calculations, magnitude of these three-dimensional signals were calculated using the Euclidean norm. Original transformation was standard deviation.
MeanOfTimeGravityAccelerometerMeanXaxis | Arithmetic average of the gyroscope gravitational signals (in gravity units 'g') for Xaxis. Variables were calculated from the time domain. Original transformation was mean.
MeanOfTimeGravityAccelerometerMeanYaxis | Arithmetic average of the gyroscope gravitational signals (in gravity units 'g') for Yaxis. Variables were calculated from the time domain. Original transformation was mean.
MeanOfTimeGravityAccelerometerMeanZaxis | Arithmetic average of the gyroscope gravitational signals (in gravity units 'g') for Zaxis. Variables were calculated from the time domain. Original transformation was mean.
MeanOfTimeGravityAccelerometerStDevXaxis | Arithmetic average of the gyroscope gravitational signals (in gravity units 'g') for Xaxis. Variables were calculated from the time domain. Original transformation was standard deviation.
MeanOfTimeGravityAccelerometerStDevYaxis | Arithmetic average of the gyroscope gravitational signals (in gravity units 'g') for Yaxis. Variables were calculated from the time domain. Original transformation was standard deviation.
MeanOfTimeGravityAccelerometerStDevZaxis | Arithmetic average of the gyroscope gravitational signals (in gravity units 'g') for Zaxis. Variables were calculated from the time domain. Original transformation was standard deviation.
